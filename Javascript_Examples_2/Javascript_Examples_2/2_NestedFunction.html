<!DOCTYPE html>
<html >
<head>
    <meta charset="utf-8" />
    <title>JS Nested Function</title>
    <script>
        // solving non-local variable by the static environment link
        // non-local variable are solved based on where the function is 
        // defined, not where it is called. 
        var y = 10;
        function f1(x) {
            var y = 1;
            return f2(x);

            function f2(x) {
                var y = 2;
                return f3(x);
            }   
            
            function f3(x) {
                return x + y;
            }
        }
    </script>
</head>
<body>
    <script>
        function f() {

            document.getElementById("id1").innerHTML += " " + f1(8);
        }
    </script>
    <p id="id1"></p>
    <script>
        f()
    </script>
    <p id="id1">Result : </p>
    <input type="button" 
           onclick="document.getElementById('id1').innerHTML+=' '+f1(8)"
           value="f1(8)" /> <br />

</body>
</html>